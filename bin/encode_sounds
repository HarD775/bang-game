#!/bin/sh
#
# $Id$
#
# A script run as part of the build process to convert our sound effects from
# WAV to OGG format.

# The sound quality to use when encoding (3 is the default).
QUALITY=3

BANG_HOME=`dirname $0`
BANG_HOME=`cd $BANG_HOME/.. ; pwd`

cd $BANG_HOME

# Encode any sounds that have been modified
for SOUND in `find rsrc -name '*.wav'`; do
    OGG_SOUND=${SOUND%wav}ogg
    if [ ! -f $OGG_SOUND -o $SOUND -nt $OGG_SOUND ]; then
        oggenc -q $QUALITY $SOUND
    fi
done
