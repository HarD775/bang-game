#!/bin/sh
#
# Rebuilds our javadocs on a nightly basis.

umask 002
export JAVA_HOME=/usr/local/java
ROOT=`dirname $0 | sed s:/bin$::`
BANG_HOME=$ROOT/../bang
ANT=$BANG_HOME/projects/tools/bin/ant
for PROJECT in narya nenya vilya; do
    cd $BANG_HOME/projects/$PROJECT
    $ANT savedoc snapshot
done
for PROJECT in jme-bui; do
    cd $BANG_HOME/projects/$PROJECT
    $ANT savedoc
done
cd $BANG_HOME
$ANT savedoc

# mirror out our Narya, Nenya, and Vilya javadocs to the public servers
if [ -x /export/ship/threerings/bin/mirror_javadoc ]; then
    /export/ship/threerings/bin/mirror_javadoc
fi
