#!/bin/sh
#
# $Id$
#
# Mirrors Bang development client release files to the development server

ROOT=`dirname $0 | sed s:/bin$::`
MIRROR=/export/tools/bin/mirror
cd $ROOT

WEB_DIR=`grep web_dir $ROOT/deployment.properties | awk -F= '{ print $2 }'`

# mirror the client files
echo "** Mirroring devclient..."
$MIRROR `find $WEB_DIR/devclient -name '*.jar'` \
    $WEB_DIR/devclient/rsrc/config/resource/manager.properties \
    $WEB_DIR/devclient/native/* \
    $WEB_DIR/devclient/*.*

# mirror the updated installers
$MIRROR $ROOT/pages/devclient/*-install.???

# mirror the in-client HTML
$MIRROR pages/*_news_incl.html

# mirror the Hemiptera Proguard mapping
$MIRROR $* $ROOT/../threerings/etc/proguard/bang/0.map

# mirror the particle system editor files
$MIRROR $ROOT/pages/pseditor/*

# mirror some random other pages
$MIRROR $ROOT/pages/{units,boards,articles,aspects}.html

echo "*** Finished mirror at" `date`
