#!/bin/sh
#
# $Id$
#
# Mirrors Bang server runtime files to the appropriate server machines 

ROOT=`dirname $0 | sed s:/bin$::`
MIRROR=/export/tools/bin/mirror
cd $ROOT

# mirror the code
echo "** Mirroring jar files..."
$MIRROR dist/lib/*.jar dist/lib/*/lib*.so dist/*.jar

# mirror the media
echo "** Mirroring resources and boards..."
$MIRROR `find rsrc -name '*.jar' -o -name '*.board'`

# mirror the configuration
echo "** Mirroring configuration files..."
$MIRROR *.properties build.xml log/README \
    rsrc/config/resource/manager.properties

# mirror the server scripts
echo "** Mirroring scripts..."
$MIRROR `find bin -perm 0775 -a -type f` \
    projects/tools/etc/build-support.xml projects/tools/bin/lfilter \
    projects/tools/bin/filter_interesting projects/tools/bin/sum_invokers
