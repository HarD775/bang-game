<?xml version="1.0" standalone="yes"?>

<tutorial ident="totem_building" board="Totem Building" players="2">
  <show_view name="player_status"/>

  <!-- start them off with a friendly welcome -->
  <text message="welcome" step="1"/>

  <!-- sneakily have our thunderbird pick up a bonus -->
  <add_piece what="unit" id="2000" type="indian_post/thunderbird"
             location="24,16" owner="1"/>
  <add_piece what="bonus" id="1012" type="indian_post/totem_large"
             location="24,18" owner="-1"/>
  <move_unit id="2000" location="24,18"/>

  <wait event="text_clicked"/>

  <!-- show them a totem base -->
  <center_on what="special" id="1626"/>
  <text message="totem_base" step="1"/>
  <wait event="text_clicked"/>

  <!-- add a totem piece and show that to 'em -->
  <add_piece what="bonus" id="1010" type="indian_post/totem_medium"
             location="14,26" owner="-1"/>
  <center_on what="piece" id="1010"/>
  <text message="totem_piece" step="1"/>
  <wait event="text_clicked"/>

  <!-- add a buffalo rider and have them pick up the totem -->
  <add_piece what="unit" id="1000" type="indian_post/buffalo_rider"
             location="12,26" owner="0"/>
  <text message="pick_up_totem" step="1"/>
  <wait event="effect:indian_post/totem/pickedup"/>

  <!-- tell them to stack the totem onto the base -->
  <text message="got_totem" step="1"/>
  <wait event="effect:indian_post/totem/added"/>

  <!-- explain totem scoring -->
  <text message="built_totem" step="1"/>
  <wait event="text_clicked"/>

  <!-- explain different sizes -->
  <text message="different_sizes" step="2"/>
  <wait event="text_clicked"/>

  <!-- start to explain scoring -->
  <text message="score_one" step="2"/>
  <wait event="text_clicked"/>

  <add_piece what="bonus" id="1011" type="indian_post/totem_small"
             location="14,26" owner="-1"/>
  <center_on what="piece" id="1011"/>
  <text message="score_two" step="2"/>
  <wait event="effect:indian_post/totem/pickedup"/>
  <text message="score_two_a" step="2"/>
  <wait event="effect:indian_post/totem/added"/>

  <text message="score_three" step="2"/>
  <wait event="text_clicked"/>

  <text message="score_four" step="2"/>
  <wait event="text_clicked"/>

  <text message="score_four_a" step="2"/>
  <wait event="text_clicked"/>
  <text message="score_five" step="2"/>
  <wait event="text_clicked"/>
  <text message="score_five_a" step="2"/>
  <wait event="text_clicked"/>
  <text message="score_six" step="2"/>
  <wait event="text_clicked"/>

  <!-- explain multiple bases; and attacking totems -->
  <center_on what="special" id="2326"/>
  <text message="different_bases" step="3"/>
  <wait event="text_clicked"/>

  <move_unit id="2000" location="24,26"/>
  <text message="attacking" step="3"/>
  <wait event="text_clicked"/>
  <text message="attacking2" step="3"/>
  <wait event="text_clicked"/>

  <center_on what="piece" id="1000" arrow="false"/>
  <text message="attack_totem" step="3"/>
  <wait event="effect:bang" allowAttack="true"/>

  <text message="back_up" step="3"/>
  <wait event="unit_moved"/>

  <text message="attack_again" step="3"/>
  <wait event="unit_killed:.*" allowAttack="true"/>

  <!-- wrap up and end the tutorial -->
  <text message="done"/>
  <wait event="text_clicked"/>

</tutorial>
