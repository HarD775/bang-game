#
# $Id$
#
# Proguard configuration file for Bang! production client

-injars ../lib/commons-io.jar(!META-INF/*)
-injars ../lib/commons-collections.jar(!META-INF/*)
-injars ../lib/getdown.jar(!META-INF/*,!**/tools/**)
-injars ../lib/narya-base.jar(!META-INF/*,!**/tools/**)
-injars ../lib/narya-distrib.jar(!META-INF/*,!**/tools/**)
-injars ../lib/nenya-rsrc.jar(!META-INF/*,!**/tools/**)
-injars ../lib/nenya-media.jar(!META-INF/*,!**/tools/**)
-injars ../lib/nenya-cast.jar(!META-INF/*,!**/tools/**)
-injars ../lib/nenya-jme.jar(
  !META-INF/*,!**/jme/tools/*Task.class,**/jme/tools/**,!**/tools/**)
-injars ../lib/nenya-openal.jar(!META-INF/*,!**/tools/**)
-injars ../lib/vilya-parlor.jar(!META-INF/*,!**/tools/**)
-injars ../lib/samskivert.jar(!META-INF/*,!**/velocity/**)
-injars ../lib/jme.jar(!META-INF/*)
-injars ../lib/jme-effects.jar(!META-INF/*)
-injars ../lib/jme-model.jar(!META-INF/*)
-injars ../lib/jme-terrain.jar(!META-INF/*)
-injars ../lib/jme-awt.jar(!META-INF/*)
-injars ../lib/jme-sound.jar(!META-INF/*,!**/fmod/**)
-injars ../lib/jme-bui.jar(!META-INF/*,!**/tests/**)
-injars ../lib/threerings.jar(**/coin/**,**/IdentUtil*.class)
-injars ../lib/hemiptera.jar(!**/web/**,!**/persist/**,!install.properties)
-injars ../lib/jorbis-0.0.12.jar(!META-INF/*)
-injars ../lib/jogg-0.0.5.jar(!META-INF/*)
-injars ../dist/bang-code.jar(!META-INF/*,!**/tools/**,!**/tests/**)

-libraryjars <java.home>/lib/rt.jar
-libraryjars ../lib/lwjgl.jar
-libraryjars ../lib/commons-beanutils.jar
-libraryjars ../lib/commons-digester.jar
-libraryjars ../lib/commons-logging.jar

# -dontoptimize
# -dontobfuscate

-dontskipnonpubliclibraryclasses
-outjars ../dist/bang-pcode.jar
-printseeds ../dist/proguard.seeds
@apply_mapping@ @apply_file@
-printmapping proguard/@version@.map
-renamesourcefileattribute SourceFile
-keepattributes SourceFile,LineNumberTable

-keepnames class * implements java.io.Serializable
-keepclassmembers class * implements java.io.Serializable {
    static final long serialVersionUID;
    !static !transient <fields>;
    private void writeObject (java.io.ObjectOutputStream);
    private void readObject (java.io.ObjectInputStream);
}

-keepnames class * implements com.jme.util.export.Savable

-keep public class * extends com.threerings.presents.dobj.DObject {
    !static !transient <fields>;
}
-keep public class * implements com.threerings.io.Streamable {
    !static !transient <fields>;
    <init> ();
    public void readObject (com.threerings.io.ObjectInputStream);
    public void writeObject (com.threerings.io.ObjectOutputStream);
}

-keep public class * extends java.lang.Enum {
    *;
}

-keep public class com.threerings.media.tile.SwissArmyTileSet
-keep public class com.threerings.media.tile.TrimmedTileSet

-keep public class * extends com.samskivert.swing.Controller {
    *;
}

-keep public class * extends com.threerings.jme.model.ModelController {
    *;
}

-keep public class com.threerings.bang.client.Config {
    <fields>;
}

-keep public class com.threerings.bang.client.BangApp {
    public static void main (java.lang.String[]);
}

-keep public class com.threerings.bang.editor.EditorApp {
    public static void main (java.lang.String[]);
}

-keep public class com.threerings.bang.editor.EditorManager {
    *;
}

-keep public class com.threerings.bang.viewer.ViewerApp {
    public static void main (java.lang.String[]);
}

-keep public class com.threerings.jme.tools.ModelViewer {
    public static void main (java.lang.String[]);
}

-keep public class com.threerings.bang.data.Badge {
    static <fields>;
}

-keep public class com.threerings.bang.data.Stat {
    static <fields>;
}

-keep public class com.threerings.jme.tools.*Def** {
    public *;
}

-keep public class com.threerings.jme.tools.xml.* {
    public *;
}
